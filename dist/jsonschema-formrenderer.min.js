!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):window.JSONSchemaFormRenderer=e(jQuery)}(function(e){function t(u,a,r){var p=[];return r=r||{},void 0===u.properties?u.allOf?(e.each(u.allOf,function(e,i){p.push(t(i,a,r))}),i(p)):u.oneOf?(e.each(u.oneOf,function(e,i){p.push(t(i,a,r))}),i(p)):i(p):(e.each(u.properties,function(e,t){a.slice(0),a.push(e),p.push(n(a,t,r[e]))}),i(p).then(function(t){if(u.required){var i=e("<p>").html(t);return e.each(u.required,function(e,t){i.find(["input","textarea","select"].map(function(e){return".schema-property-"+t+" > "+e}).join(",")).attr("required","required")}),i.html()}return t}))}function i(t){return e.when.apply(e,t).then(function(){return e.makeArray(arguments).join("")})}function n(a,r,p){var s=a.pop(),l=s;isNaN(parseInt(s,10))||(l=a[a.length-1].slice(0,-1));var o=(a.length?a.join("-")+"-":"")+s,c=['<div class="schema-property schema-property-'+l+" schema-datatype-"+r.type+'" data-datatype="'+r.type+'">'],d=a.slice(0),h="root"+(a.length?"["+a.join("][")+"]":"")+"["+s+"]";d.push(s),void 0===p&&void 0!==r["default"]&&(p=r["default"]);var f=p||"";switch(r.type){case void 0:case"object":c.push('<div class="fieldset">'),r.title&&c.push('<div class="legend">'+r.title+"</div>"),c.push(t(r,d,p)),c.push("</div>");break;case"number":r.title&&""!==r.title&&c.push('<label for="'+o+'">'+(r.title?r.title:s)+"</label>"),c.push(void 0===r["enum"]?'<input type="'+(r.inputType||"number")+'" name="'+h+'" id="'+o+(r.description?'" placeholder="'+r.description:"")+'" value="'+f+'">':u(r,d,p));break;case"boolean":c.push('<input type="checkbox" name="'+h+'" id="'+o+'" value="1"'+(p?' checked="checked"':"")+" />"),c.push('<label for="'+o+'">'+r.title+"</label>");break;case"array":r.items["enum"]?(r.items.title=r.title,c.push(n(d,r.items,p).then(function(t){var i=e(t);return i.find("select").prop("multiple","multiple"),i.html()}))):(c.push('<div class="fieldset">'),r.title&&c.push('<div class="legend">'+r.title+"</div>"),e.each(p||{},function(e,t){var i=d.slice(0);i.push(e),c.push(n(i,r.items,t))}),c.push("</div>"));break;case"string":var m=void 0!==r["enum"];r.title&&c.push('<label for="'+o+'">'+r.title+(!m&&r.minLength?" *":"")+"</label>"),m?c.push(u(r,d,p)):c.push("textarea"===r.inputType?'<textarea type="text" name="'+h+'" id="'+o+'">'+f+"</textarea>":'<input type="'+(r.inputType||r.format||"text")+'" name="'+h+(r.description?'" placeholder="'+r.description:"")+'" id="'+o+'" value="'+f+'">');break;default:c.push('<label for="'+o+'">'+r.title+"</label>"),c.push('<input type="'+(r.inputType||r.format||"text")+'" name="'+h+'" id="'+o+(r.description?'" placeholder="'+r.description:"")+'" value="'+f+'">')}return c.push("</div>"),i(c)}function u(t,i,n){var u=[],a=i.join("-"),r="root["+i.join("][")+"]";void 0===n&&void 0!==t["default"]&&(n=t["default"]);var p=t.options&&t.options.enum_titles?t.options.enum_titles:{};switch(t.inputType){case"radio":u.push('<div class="radiogroup">'),e.each(t["enum"],function(e,i){var p=a+"-"+i;u.push("<div>"),u.push('<input type="radio" name="'+r+'" value="'+i+'" id="'+p+'"'+(i===n?' checked="checked"':"")+'><label for="'+p+'">'+(t.enumTitles[e]||i)+"</label>"),u.push("</div>")}),u.push("</div>");break;default:u.push('<select name="'+r+'" id="'+a+'" class="">'),e.each(t["enum"],function(e,t){u.push('<option value="'+t+'"'+(t===n?' selected="selected"':"")+">"+(p[e]||t)+"</option>")}),u.push("</select>")}return u.join("")}return{render:t,renderChunk:n}});
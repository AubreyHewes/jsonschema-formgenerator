!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):window.JSONSchemaFormRenderer=e(jQuery)}(function(e){function t(t){return e.when.apply(e,t).then(function(){return e.makeArray(arguments).join("")})}function i(p,o,s){var d=p.pop(),c=d;isNaN(parseInt(d,10))||(c=p[p.length-1].slice(0,-1));var h=(p.length?p.join("-")+"-":"")+d,m=['<div class="schema-property schema-property-'+c+" schema-datatype-"+o.type+'" data-datatype="'+o.type+'">'],f=p.slice(0),v="root"+(p.length?"["+p.join("][")+"]":"")+"["+d+"]";f.push(d),void 0===s&&void 0!==o["default"]&&(s=o["default"]);var y=s||"";switch(o.type){case void 0:case"object":m.push('<div class="fieldset">'),o.title&&m.push('<div class="legend">'+o.title+"</div>"),m.push(n(o,f,s)),m.push("</div>");break;case"number":case"integer":o.title&&""!==o.title&&m.push('<label for="'+h+'">'+(o.title?o.title:d)+"</label>"),m.push(("immutable"===o.format?u:r)(o,f,s,h));break;case"boolean":m.push('<input type="checkbox" name="'+v+'" id="'+h+'" value="1"'+(s?' checked="checked"':"")+" />"),m.push('<label for="'+h+'">'+o.title+"</label>");break;case"array":o.items["enum"]?(o.items.title=o.title,m.push(i(f,o.items,s).then(function(t){var i=e(t);return i.find("select").prop("multiple","multiple"),i.html()}))):(m.push('<div class="fieldset">'),o.title&&m.push('<div class="legend">'+o.title+"</div>"),e.each(s||{},function(e,t){var n=f.slice(0);n.push(e),m.push(i(n,o.items,t))}),m.push("</div>"));break;case"string":var b=void 0!==o["enum"];o.title&&m.push('<label for="'+h+'">'+o.title+(!b&&o.minLength?" *":"")+"</label>"),b?m.push(l(o,f,s)):m.push(("immutable"===o.format?u:a)(o,f,s,h));break;default:m.push('<label for="'+h+'">'+o.title+"</label>"),m.push('<input type="'+(o.inputType||o.format||"text")+'" name="'+v+'" id="'+h+(o.description?'" placeholder="'+o.description:"")+'" value="'+y+'">')}return m.push("</div>"),t(m)}function n(a,r,u){var l=[];return u=u||{},void 0===a.properties?a.allOf?(e.each(a.allOf,function(e,t){l.push(n(t,r,u))}),t(l)):a.oneOf?(e.each(a.oneOf,function(e,t){l.push(n(t,r,u))}),t(l)):t(l):(e.each(a.properties,function(e,t){r.slice(0),r.push(e),l.push(i(r,t,u[e]))}),t(l).then(function(t){if(a.required){var i=e("<p>").html(t);return e.each(a.required,function(e,t){i.find(["input","textarea","select"].map(function(e){return".schema-property-"+t+" > "+e}).join(",")).attr("required","required")}),i.html()}return t}))}function a(e,t,i,n){var a=i||"";return"textarea"===e.inputType?'<textarea type="text" name="'+name+(e.description?'" placeholder="'+e.description:"")+'" id="'+n+'">'+a+"</textarea>":'<input type="'+(e.inputType||e.format||"text")+'" name="'+name+(e.description?'" placeholder="'+e.description:"")+'" id="'+n+'" value="'+a+'">'}function r(e,t,i,n){return void 0===e["enum"]?'<input type="'+(e.inputType||"number")+'" name="'+name+'" id="'+n+(e.description?'" placeholder="'+e.description:"")+(e.min?'" min="'+e.min:"")+(e.max?'" max="'+e.max:"")+'" value="'+(i||"")+'">':l(e,t,i)}function u(e,t,i,n){return void 0===i&&void 0!==e["default"]&&(i=e["default"]),'<div class="immutable">'+i+"</div>"}function l(t,i,n){var a=[],r=i.join("-"),l="root["+i.join("][")+"]";void 0===n&&void 0!==t["default"]&&(n=t["default"]);var p=t.options&&t.options.enum_titles?t.options.enum_titles:{};if("immutable"===t.format)return u(t,i,p[n],r);switch(t.inputType){case"radio":a.push('<div class="radiogroup">'),e.each(t["enum"],function(e,t){var i=r+"-"+t;a.push("<div>"),a.push('<input type="radio" name="'+l+'" value="'+t+'" id="'+i+'"'+(t===n?' checked="checked"':"")+'><label for="'+i+'">'+(p[e]||t)+"</label>"),a.push("</div>")}),a.push("</div>");break;default:a.push('<select name="'+l+'" id="'+r+'" class="">'),e.each(t["enum"],function(e,t){a.push('<option value="'+t+'"'+(t===n?' selected="selected"':"")+">"+(p[e]||t)+"</option>")}),a.push("</select>")}return a.join("")}return{render:n,renderChunk:i}});
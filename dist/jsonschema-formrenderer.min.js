!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):window.JSONSchemaFormRenderer=e(jQuery)}(function(e){function t(a,u,r){var p=[];return r=r||{},void 0===a.properties?a.allOf?(e.each(a.allOf,function(e,i){p.push(t(i,u,r))}),i(p)):a.oneOf?(e.each(a.oneOf,function(e,i){p.push(t(i,u,r))}),i(p)):i(p):(e.each(a.properties,function(e,t){u.slice(0),u.push(e),p.push(n(u,t,r[e]))}),i(p).then(function(t){if(a.required){var i=e("<p>").html(t);return e.each(a.required,function(e){i.find(["input","textarea","select"].map(function(t){return".schema-property-"+e+" > "+t}).join(",")).attr("required","required")}),i.html()}return t}))}function i(t){return e.when.apply(e,t).then(function(){return e.makeArray(arguments).join("")})}function n(u,r,p){var s=u.pop(),o=s;isNaN(parseInt(s,10))||(o=u[u.length-1].slice(0,-1));var l=(u.length?u.join("-")+"-":"")+s,d=['<div class="schema-property schema-property-'+o+" schema-datatype-"+r.type+'" data-datatype="'+r.type+'">'],c=u.slice(0),h="root"+(u.length?"["+u.join("][")+"]":"")+"["+s+"]";c.push(s),void 0===p&&void 0!==r["default"]&&(p=r["default"]);var f=p||"";switch(r.type){case void 0:case"object":d.push('<div class="fieldset">'),r.title&&d.push('<div class="legend">'+r.title+"</div>"),d.push(t(r,c,p)),d.push("</div>");break;case"number":r.title&&""!==r.title&&d.push('<label for="'+l+'">'+(r.title?r.title:s)+"</label>"),d.push(void 0===r["enum"]?'<input type="'+(r.inputType||"number")+'" name="'+h+'" id="'+l+(r.description?'" placeholder="'+r.description:"")+'" value="'+f+'">':a(r,c,p));break;case"boolean":d.push('<input type="checkbox" name="'+h+'" id="'+l+'" value="1"'+(p?' checked="checked"':"")+" />"),d.push('<label for="'+l+'">'+r.title+"</label>");break;case"array":d.push('<div class="fieldset">'),r.title&&d.push('<div class="legend">'+r.title+"</div>"),e.each(p||{},function(e,t){var i=c.slice(0);i.push(e),d.push(n(i,r.items,t))}),d.push("</div>");break;case"string":var v=void 0!==r["enum"];r.title&&d.push('<label for="'+l+'">'+r.title+(!v&&r.minLength?" *":"")+"</label>"),v?d.push(a(r,c,p)):d.push("textarea"===r.inputType?'<textarea type="text" name="'+h+'" id="'+l+'">'+f+"</textarea>":'<input type="'+(r.inputType||r.format||"text")+'" name="'+h+(r.description?'" placeholder="'+r.description:"")+'" id="'+l+'" value="'+f+'">');break;default:d.push('<label for="'+l+'">'+r.title+"</label>"),d.push('<input type="'+(r.inputType||r.format||"text")+'" name="'+h+'" id="'+l+(r.description?'" placeholder="'+r.description:"")+'" value="'+f+'">')}return d.push("</div>"),i(d)}function a(t,i,n){var a=[],u=i.join("-"),r="root["+i.join("][")+"]";void 0===n&&void 0!==t["default"]&&(n=t["default"]);var p=t.options&&t.options.enum_titles?t.options.enum_titles:{};switch(t.inputType){case"radio":a.push('<div class="radiogroup">'),e.each(t["enum"],function(e,i){var p=u+"-"+i;a.push("<div>"),a.push('<input type="radio" name="'+r+'" value="'+i+'" id="'+p+'"'+(i===n?' checked="checked"':"")+'><label for="'+p+'">'+(t.enumTitles[e]||i)+"</label>"),a.push("</div>")}),a.push("</div>");break;default:a.push('<select name="'+r+'" id="'+u+'" class="">'),e.each(t["enum"],function(e,t){a.push('<option value="'+t+'"'+(t===n?' selected="selected"':"")+">"+(p[e]||t)+"</option>")}),a.push("</select>")}return a.join("")}return{render:t,renderChunk:n}});